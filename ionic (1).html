<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gym Planner App</title>

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@ionic/core/css/ionic.bundle.css"/>

  <script type="module" src="https://cdn.jsdelivr.net/npm/@ionic/core/dist/ionic/ionic.esm.js"></script>
  <script nomodule src="https://cdn.jsdelivr.net/npm/@ionic/core/dist/ionic/ionic.js"></script>

  <style>
    ion-card { margin-bottom: 15px; }
    ion-segment { margin-bottom: 10px; }
    #dailyPlan p { margin: 8px 0; }
  </style>
</head>
<body>

<ion-app>
  <ion-header>
    <ion-toolbar color="primary">
      <ion-title>Gym Planner</ion-title>
    </ion-toolbar>
    <ion-toolbar>
      <ion-segment id="mainSegment" value="Workouts">
        <ion-segment-button value="Workouts">Workouts</ion-segment-button>
        <ion-segment-button value="Meals">Meal</ion-segment-button>
        <ion-segment-button value="Equipment">Equipment</ion-segment-button>
        <ion-segment-button value="DailyPlanner">Planner</ion-segment-button>
      </ion-segment>
    </ion-toolbar>
  </ion-header>

  <ion-content class="ion-padding">
    <ion-searchbar id="searchBar" placeholder="Search workouts"></ion-searchbar>

    <div id="workoutList"></div>

    <div id="mealSection" style="display:none;">
      <ion-segment id="mealSegment" value="Breakfast" color="primary">
        <ion-segment-button value="Breakfast">Breakfast</ion-segment-button>
        <ion-segment-button value="Lunch">Lunch</ion-segment-button>
        <ion-segment-button value="Dinner">Dinner</ion-segment-button>
      </ion-segment>
      <div id="mealList"></div>
    </div>

    <div id="equipmentSection" style="display:none;">
      <div id="equipmentList"></div>
    </div>

    <div id="dailyPlannerSection" style="display:none;">
      <ion-card>
        <ion-card-header>
          <ion-card-title>Planner</ion-card-title>
        </ion-card-header>
        <ion-card-content>
          <ion-button expand="block" onclick="generateDailyPlan()">Generate Today's Plan</ion-button>
          <ion-button expand="block" color="secondary" onclick="saveDailyPlan()">Save Plan</ion-button>
          <div id="dailyPlan" style="margin-top:15px;"></div>
        </ion-card-content>
      </ion-card>
    </div>
  </ion-content>
</ion-app>

<!-- Workout Modal -->
<ion-modal id="workoutModal">
  <ion-header>
    <ion-toolbar color="secondary">
      <ion-title id="modalTitle">Workout</ion-title>
      <ion-buttons slot="end">
        <ion-button onclick="closeWorkoutModal()">Close</ion-button>
      </ion-buttons>
    </ion-toolbar>
  </ion-header>
  <ion-content class="ion-padding">
    <p id="modalType"></p>
    <p id="modalDesc"></p>
    <p id="modalEquip"></p>
  </ion-content>
</ion-modal>

<script>
  const workouts = [
    { name: "Barbell Curl", type: "Arms", desc: "Bicep exercise using a barbell.", equipment: "Barbell" },
    { name: "Dumbbell Curl", type: "Arms", desc: "Isolation exercise for biceps.", equipment: "Dumbbells" },
    { name: "Tricep Dips", type: "Arms", desc: "Bodyweight triceps exercise.", equipment: "Dip Bars or Bench" },
    { name: "Hammer Curl", type: "Arms", desc: "Targets biceps and forearms.", equipment: "Dumbbells" },
    { name: "Skull Crushers", type: "Arms", desc: "Triceps isolation movement.", equipment: "Barbell or Dumbbells" },

    { name: "Squat", type: "Legs", desc: "Compound leg exercise for quads and glutes.", equipment: "Barbell" },
    { name: "Leg Press", type: "Legs", desc: "Machine-based leg strength exercise.", equipment: "Leg Press Machine" },
    { name: "Lunges", type: "Legs", desc: "Unilateral leg movement for balance.", equipment: "Bodyweight or Dumbbells" },
    { name: "Deadlift", type: "Legs", desc: "Full lower-body and posterior chain exercise.", equipment: "Barbell" },
    { name: "Calf Raises", type: "Legs", desc: "Strengthens calf muscles.", equipment: "Bodyweight or Dumbbells" },

    { name: "Bench Press", type: "Chest", desc: "Compound chest pressing exercise.", equipment: "Barbell, Bench" },
    { name: "Dumbbell Bench Press", type: "Chest", desc: "Chest press using dumbbells.", equipment: "Dumbbells, Bench" },
    { name: "Push-Ups", type: "Chest", desc: "Bodyweight chest exercise.", equipment: "Bodyweight" },
    { name: "Chest Fly", type: "Chest", desc: "Isolation chest movement.", equipment: "Dumbbells or Machine" },
    { name: "Incline Bench Press", type: "Chest", desc: "Upper chest focus.", equipment: "Barbell, Incline Bench" },

    { name: "Shoulder Press", type: "Shoulders", desc: "Overhead pressing movement.", equipment: "Dumbbells or Barbell" },
    { name: "Lateral Raises", type: "Shoulders", desc: "Targets side deltoids.", equipment: "Dumbbells" },
    { name: "Front Raises", type: "Shoulders", desc: "Targets front deltoids.", equipment: "Dumbbells" },
    { name: "Arnold Press", type: "Shoulders", desc: "Full shoulder movement.", equipment: "Dumbbells" },
    { name: "Upright Row", type: "Shoulders", desc: "Targets shoulders and traps.", equipment: "Barbell or Dumbbells" },

    { name: "Pull-Ups", type: "Back", desc: "Upper back and lat exercise.", equipment: "Pull-Up Bar" },
    { name: "Lat Pulldown", type: "Back", desc: "Machine-based back exercise.", equipment: "Lat Pulldown Machine" },
    { name: "Bent-Over Row", type: "Back", desc: "Compound back movement.", equipment: "Barbell" },
    { name: "Seated Cable Row", type: "Back", desc: "Mid-back strengthening exercise.", equipment: "Cable Machine" },
    { name: "Single-Arm Dumbbell Row", type: "Back", desc: "Unilateral back exercise.", equipment: "Dumbbell, Bench" },

    { name: "Plank", type: "Core", desc: "Isometric core stabilization exercise.", equipment: "Bodyweight" },
    { name: "Crunches", type: "Core", desc: "Abdominal isolation exercise.", equipment: "Bodyweight" },
    { name: "Leg Raises", type: "Core", desc: "Lower abdominal exercise.", equipment: "Bodyweight" },
    { name: "Russian Twist", type: "Core", desc: "Rotational core movement.", equipment: "Medicine Ball or Dumbbell" },
    { name: "Mountain Climbers", type: "Core", desc: "Dynamic core and cardio exercise.", equipment: "Bodyweight" },

    { name: "Burpees", type: "Full Body", desc: "High-intensity full-body exercise.", equipment: "Bodyweight" },
    { name: "Jump Squats", type: "Full Body", desc: "Explosive leg power exercise.", equipment: "Bodyweight" },
    { name: "Kettlebell Swings", type: "Full Body", desc: "Hip hinge power movement.", equipment: "Kettlebell" },
    { name: "Clean and Press", type: "Full Body", desc: "Compound strength movement.", equipment: "Barbell" },
    { name: "Farmer’s Walk", type: "Full Body", desc: "Grip and core strength exercise.", equipment: "Dumbbells or Kettlebells" }
  ];


 const meals = {
    Breakfast: [
      { name: "Oatmeal with Berries", calories: 350, desc: "Fiber-rich breakfast." },
      { name: "Protein Smoothie", calories: 250, desc: "Quick protein snack." },
      { name: "Scrambled Eggs & Toast", calories: 400, desc: "Classic protein breakfast." },
      { name: "Greek Yogurt with Honey", calories: 300, desc: "Probiotic-rich meal." },
      { name: "Banana Peanut Butter Toast", calories: 380, desc: "Energy-boosting combo." },
      { name: "Avocado Toast", calories: 420, desc: "Healthy fats breakfast." },
      { name: "Pancakes with Maple Syrup", calories: 500, desc: "Sweet morning treat." },
      { name: "Breakfast Burrito", calories: 550, desc: "Hearty morning meal." },
      { name: "Chia Pudding", calories: 280, desc: "High-fiber and omega-3." },
      { name: "Fruit Salad", calories: 220, desc: "Light and refreshing." },
      { name: "Boiled Eggs & Banana", calories: 300, desc: "Simple protein combo." },
      { name: "French Toast", calories: 480, desc: "Golden toasted bread." },
      { name: "Cereal with Milk", calories: 350, desc: "Quick classic breakfast." },
      { name: "Spinach Omelette", calories: 360, desc: "Low-carb and filling." },
      { name: "Muffin & Coffee", calories: 410, desc: "Light café-style meal." },
      { name: "Peanut Butter Oatmeal", calories: 430, desc: "High-energy breakfast." },
      { name: "Apple Cinnamon Porridge", calories: 340, desc: "Warm and comforting." }
    ],

    Lunch: [
      { name: "Grilled Chicken Salad", calories: 450, desc: "Protein-rich lunch." },
      { name: "Turkey Sandwich", calories: 400, desc: "Lean protein sandwich." },
      { name: "Beef Rice Bowl", calories: 650, desc: "Filling and energizing." },
      { name: "Tuna Wrap", calories: 420, desc: "Omega-3 rich lunch." },
      { name: "Chicken Adobo with Rice", calories: 700, desc: "Classic Filipino meal." },
      { name: "Pasta Alfredo", calories: 680, desc: "Creamy comfort food." },
      { name: "Veggie Burger", calories: 500, desc: "Plant-based option." },
      { name: "Fish Fillet & Rice", calories: 560, desc: "Light but satisfying." },
      { name: "Chicken Shawarma", calories: 620, desc: "Spiced grilled chicken." },
      { name: "Caesar Salad", calories: 480, desc: "Crunchy and creamy." },
      { name: "Spaghetti Bolognese", calories: 690, desc: "Meaty pasta dish." },
      { name: "Beef Tacos", calories: 600, desc: "Flavorful handheld meal." },
      { name: "Chicken Fried Rice", calories: 640, desc: "Savory rice dish." },
      { name: "Shrimp Stir-Fry", calories: 520, desc: "Quick seafood meal." },
      { name: "Ham & Cheese Panini", calories: 550, desc: "Grilled sandwich." },
      { name: "Chicken Noodle Soup", calories: 430, desc: "Warm and comforting." },
      { name: "Baked Salmon Salad", calories: 510, desc: "Healthy lunch option." }
    ],

    Dinner: [
      { name: "Salmon with Quinoa", calories: 600, desc: "Dinner with omega-3." },
      { name: "Veggie Stir-Fry", calories: 500, desc: "Healthy mixed vegetables." },
      { name: "Grilled Steak & Potatoes", calories: 750, desc: "Hearty dinner." },
      { name: "Roast Chicken & Veggies", calories: 650, desc: "Balanced evening meal." },
      { name: "Pork Chop & Rice", calories: 700, desc: "Classic comfort dish." },
      { name: "Spaghetti Carbonara", calories: 720, desc: "Creamy Italian pasta." },
      { name: "Chicken Curry", calories: 680, desc: "Spicy and flavorful." },
      { name: "Beef Stir-Fry", calories: 640, desc: "Quick Asian-style dish." },
      { name: "Baked Tilapia", calories: 520, desc: "Light dinner choice." },
      { name: "Vegetable Lasagna", calories: 600, desc: "Meat-free comfort meal." },
      { name: "BBQ Chicken", calories: 670, desc: "Smoky grilled flavor." },
      { name: "Shrimp Pasta", calories: 660, desc: "Seafood pasta dinner." },
      { name: "Tofu & Veggie Bowl", calories: 480, desc: "Plant-based protein." },
      { name: "Chicken Parmesan", calories: 730, desc: "Cheesy Italian dish." },
      { name: "Beef Caldereta", calories: 760, desc: "Rich Filipino stew." },
      { name: "Miso Soup with Rice", calories: 450, desc: "Light Japanese dinner." }
    ]
  };


  const equipment = [
    { name: "Barbell", type: "Strength", info: "Used for squats, bench press, curls." },
    { name: "Dumbbell", type: "Strength", info: "Versatile weights for many exercises." },
    { name: "Bench", type: "Accessory", info: "Used for bench press and seated exercises." },
    { name: "Kettlebell", type: "Strength", info: "Used for swings and functional training." },
    { name: "Resistance Bands", type: "Accessory", info: "Used for stretching and light resistance." },

    { name: "Pull-Up Bar", type: "Strength", info: "Used for pull-ups and hanging leg raises." },
    { name: "Dip Bars", type: "Strength", info: "Used for dips and bodyweight exercises." },
    { name: "Squat Rack", type: "Strength", info: "Supports heavy squats and presses." },
    { name: "Power Cage", type: "Strength", info: "Provides safety for heavy lifts." },
    { name: "Smith Machine", type: "Strength", info: "Guided barbell movement for controlled lifts." },

    { name: "Leg Press Machine", type: "Machine", info: "Targets quads, glutes, and hamstrings." },
    { name: "Leg Curl Machine", type: "Machine", info: "Isolates hamstrings." },
    { name: "Leg Extension Machine", type: "Machine", info: "Isolates quadriceps." },
    { name: "Chest Press Machine", type: "Machine", info: "Machine-based chest exercise." },
    { name: "Pec Deck Machine", type: "Machine", info: "Targets chest and shoulders." },

    { name: "Lat Pulldown Machine", type: "Machine", info: "Strengthens lats and upper back." },
    { name: "Seated Row Machine", type: "Machine", info: "Targets mid-back muscles." },
    { name: "Cable Machine", type: "Machine", info: "Adjustable resistance for many exercises." },
    { name: "Functional Trainer", type: "Machine", info: "Dual adjustable pulley system." },
    { name: "Assisted Pull-Up Machine", type: "Machine", info: "Helps beginners perform pull-ups." },

    { name: "Treadmill", type: "Cardio", info: "Used for walking, jogging, and running." },
    { name: "Stationary Bike", type: "Cardio", info: "Low-impact cardio exercise." },
    { name: "Elliptical Trainer", type: "Cardio", info: "Low-impact full-body cardio." },
    { name: "Rowing Machine", type: "Cardio", info: "Full-body cardio and strength workout." },
    { name: "Stair Climber", type: "Cardio", info: "Targets legs and cardiovascular endurance." },

    { name: "Medicine Ball", type: "Accessory", info: "Used for explosive and core exercises." },
    { name: "Stability Ball", type: "Accessory", info: "Improves balance and core strength." },
    { name: "Ab Wheel", type: "Accessory", info: "Targets abdominal muscles." },
    { name: "Foam Roller", type: "Recovery", info: "Used for muscle recovery and mobility." },
    { name: "Yoga Mat", type: "Accessory", info: "Provides comfort for floor exercises." },

    { name: "Weight Plates", type: "Strength", info: "Added resistance for barbells." },
    { name: "EZ Curl Bar", type: "Strength", info: "Designed for arm exercises." },
    { name: "Trap Bar", type: "Strength", info: "Used for deadlifts with reduced strain." },
    { name: "Battle Ropes", type: "Conditioning", info: "High-intensity conditioning tool." },
    { name: "Jump Rope", type: "Cardio", info: "Improves coordination and endurance." },

    { name: "Weightlifting Belt", type: "Accessory", info: "Provides core support during heavy lifts." },
    { name: "Lifting Straps", type: "Accessory", info: "Improves grip strength for pulls." },
    { name: "Gym Timer", type: "Accessory", info: "Tracks workout intervals and rest time." },
    { name: "Ankle Weights", type: "Accessory", info: "Adds resistance to leg movements." },
    { name: "Heart Rate Monitor", type: "Accessory", info: "Tracks workout intensity." }
  ];


  const workoutList = document.getElementById('workoutList');
  const mealSection = document.getElementById('mealSection');
  const mealList = document.getElementById('mealList');
  const equipmentSection = document.getElementById('equipmentSection');
  const equipmentList = document.getElementById('equipmentList');
  const dailyPlannerSection = document.getElementById('dailyPlannerSection');
  const searchBar = document.getElementById('searchBar');
  const mainSegment = document.getElementById('mainSegment');
  const mealSegment = document.getElementById('mealSegment');
  const dailyPlanDiv = document.getElementById('dailyPlan');

  const modal = document.getElementById('workoutModal');
  const modalTitle = document.getElementById('modalTitle');
  const modalType = document.getElementById('modalType');
  const modalDesc = document.getElementById('modalDesc');
  const modalEquip = document.getElementById('modalEquip');


  let currentPlan = {};

  function displayWorkouts(data) {
    workoutList.innerHTML = '';
    data.forEach(w => {
      const card = document.createElement('ion-card');
      card.innerHTML = `
        <ion-card-header>
          <ion-card-title>${w.name}</ion-card-title>
          <ion-card-subtitle>${w.type}</ion-card-subtitle>
        </ion-card-header>
      `;
      card.addEventListener('click', () => showWorkoutModal(w));
      workoutList.appendChild(card);
    });
  }

  function displayMeals(type) {
    mealList.innerHTML = '';
    let color;
    switch(type) {
      case 'Breakfast': color = 'light'; break;
      case 'Lunch': color = 'medium'; break;
      case 'Dinner': color = 'tertiary'; break;
    }

    meals[type].forEach(m => {
      const card = document.createElement('ion-card');
      card.color = color;
      card.style.marginBottom = '15px';
      card.innerHTML = `
        <ion-card-header>
          <ion-card-title>${m.name}</ion-card-title>
          <ion-card-subtitle>Calories: ${m.calories}</ion-card-subtitle>
        </ion-card-header>
        <ion-card-content>
          <p>${m.desc}</p>
        </ion-card-content>
      `;
      mealList.appendChild(card);
    });
  }

  function displayEquipment() {
    equipmentList.innerHTML = '';
    equipment.forEach(eq => {
      const card = document.createElement('ion-card');
      card.innerHTML = `
        <ion-card-header>
          <ion-card-title>${eq.name}</ion-card-title>
          <ion-card-subtitle>Type: ${eq.type}</ion-card-subtitle>
        </ion-card-header>
        <ion-card-content>
          <p>${eq.info}</p>
        </ion-card-content>
      `;
      equipmentList.appendChild(card);
    });
  }

  function showWorkoutModal(workout) {
    modalTitle.textContent = workout.name;
    modalType.textContent = `Type: ${workout.type}`;
    modalDesc.textContent = workout.desc;
    modalEquip.textContent = `Equipment: ${workout.equipment}`;
    modal.present();
  }

  function closeWorkoutModal() { modal.dismiss(); }

  function filterWorkouts() {
    const query = searchBar.value.toLowerCase();
    const filtered = workouts.filter(w => 
      w.name.toLowerCase().includes(query) || w.type.toLowerCase().includes(query)
    );
    displayWorkouts(filtered);
  }

  function generateDailyPlan() {
    const randomWorkout = workouts[Math.floor(Math.random() * workouts.length)];
    const breakfast = meals.Breakfast[Math.floor(Math.random() * meals.Breakfast.length)];
    const lunch = meals.Lunch[Math.floor(Math.random() * meals.Lunch.length)];
    const dinner = meals.Dinner[Math.floor(Math.random() * meals.Dinner.length)];

    currentPlan = { workout: randomWorkout, breakfast, lunch, dinner };
    renderDailyPlan(currentPlan);
  }

  function renderDailyPlan(plan) {
    dailyPlanDiv.innerHTML = `
      <p><b>Workout:</b> ${plan.workout.name} (${plan.workout.type})</p>
      <p><b>Required Equipment:</b> ${plan.workout.equipment}</p>
      <hr>
      <p><b>Breakfast:</b> ${plan.breakfast.name} (${plan.breakfast.calories} cal)</p>
      <p><b>Lunch:</b> ${plan.lunch.name} (${plan.lunch.calories} cal)</p>
      <p><b>Dinner:</b> ${plan.dinner.name} (${plan.dinner.calories} cal)</p>
    `;
  }

  function saveDailyPlan() {
    if (!currentPlan || Object.keys(currentPlan).length === 0) {
      alert("Generate a plan first!");
      return;
    }
    localStorage.setItem('dailyPlan', JSON.stringify(currentPlan));
    alert("Daily Plan saved to localStorage!");
  }

  mainSegment.addEventListener('ionChange', e => {
    const value = e.target.value;
    workoutList.style.display = 'none';
    mealSection.style.display = 'none';
    equipmentSection.style.display = 'none';
    dailyPlannerSection.style.display = 'none';
    searchBar.style.display = 'none';

    if(value === 'Workouts') { workoutList.style.display = 'block'; searchBar.style.display = 'block'; }
    else if(value === 'Meals') { mealSection.style.display = 'block'; displayMeals(mealSegment.value); }
    else if(value === 'Equipment') { equipmentSection.style.display = 'block'; displayEquipment(); }
    else if(value === 'DailyPlanner') {
      dailyPlannerSection.style.display = 'block';
      const savedPlan = JSON.parse(localStorage.getItem('dailyPlan'));
      if(savedPlan) {
        currentPlan = savedPlan;
        renderDailyPlan(savedPlan);
      }
    }
  });

  mealSegment.addEventListener('ionChange', e => displayMeals(e.target.value));
  searchBar.addEventListener('ionInput', filterWorkouts);

  displayWorkouts(workouts);
</script>
</body>
</html>
